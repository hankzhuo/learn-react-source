/** @license React vundefined
 * react-events-focus.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';(function(g,f){"object"===typeof exports&&"undefined"!==typeof module?module.exports=f(require("react")):"function"===typeof define&&define.amd?define(["react"],f):g.ReactEventsFocus=f(g.React)})(this,function(g){function f(a,d,b,c){return{target:b,type:d,pointerType:c,timeStamp:a.getTimeStamp()}}function n(a,d,b,c){var e=a.type,f=a.target;if("mousemove"!==e||"HTML"!==f.nodeName)h=!1,b=b.focusTarget,null===b||!d.isTargetWithinNode(a.target,b)||"mousedown"!==e&&"touchstart"!==e&&"pointerdown"!==
e||c(!1)}function t(a,d,b,c){switch(a.type){case "mousemove":case "mousedown":case "mouseup":b.pointerType="mouse";n(a,d,b,c);break;case "pointermove":case "pointerdown":case "pointerup":b.pointerType=a.nativeEvent.pointerType;n(a,d,b,c);break;case "touchmove":case "touchstart":case "touchend":b.pointerType="touch";n(a,d,b,c);break;case "keydown":case "keyup":a=a.nativeEvent,"Tab"!==a.key||a.metaKey||!x&&a.altKey||a.ctrlKey||(b.pointerType="keyboard",h=!0)}}function y(a,d,b){var c=b.pointerType,e=
b.focusTarget;if(d.onFocus){var k=f(a,"focus",e,c);a.dispatchEvent(k,d.onFocus,0)}d.onFocusChange&&(c=f(a,"focuschange",e,c),a.dispatchEvent(c,function(){d.onFocusChange(!0)},0));b.isFocusVisible&&p(a,d,b,!0)}function m(a,d,b){var c=b.pointerType,e=b.focusTarget;if(d.onBlur){var k=f(a,"blur",e,c);a.dispatchEvent(k,d.onBlur,0)}d.onFocusChange&&(c=f(a,"focuschange",e,c),a.dispatchEvent(c,function(){d.onFocusChange(!1)},0));b.isFocusVisible&&p(a,d,b,!1)}function p(a,d,b,c){var e=b.pointerType;b=b.focusTarget;
d.onFocusVisibleChange&&(e=f(a,"focusvisiblechange",b,e),a.dispatchEvent(e,function(){d.onFocusVisibleChange(c)},0))}function l(a,d,b,c){var e=b.pointerType,k=b.focusTarget;d.onFocusWithinChange&&(e=f(a,"focuswithinchange",k,e),a.dispatchEvent(e,function(){d.onFocusWithinChange(c)},0));b.isFocusVisible&&q(a,d,b,c)}function q(a,d,b,c){var e=b.pointerType;b=b.focusTarget;d.onFocusWithinVisibleChange&&(e=f(a,"focuswithinvisiblechange",b,e),a.dispatchEvent(e,function(){d.onFocusWithinVisibleChange(c)},
0))}var h=!0,x="undefined"!==typeof window&&null!=window.navigator?/^Mac/.test(window.navigator.platform):!1,u=["focus","blur"],r=["keydown","keyup","pointermove","pointerdown","pointerup"];"undefined"!==typeof window&&void 0===window.PointerEvent&&r.push("mousemove","mousedown","mouseup","touchmove","touchstart","touchend");var v=g.unstable_createEvent({displayName:"Focus",targetEventTypes:u,rootEventTypes:r,getInitialState:function(){return{focusTarget:null,isFocused:!1,isFocusVisible:!1,pointerType:""}},
onEvent:function(a,d,b,c){var e=a.type,f=a.target;if(b.disabled)c.isFocused&&(m(d,b,c),c.isFocused=!1,c.focusTarget=null);else switch(e){case "focus":c.focusTarget=a.responderTarget;c.isFocused||c.focusTarget!==f||(c.isFocused=!0,c.isFocusVisible=h,y(d,b,c));break;case "blur":c.isFocused&&(m(d,b,c),c.isFocusVisible=h,c.isFocused=!1)}},onRootEvent:function(a,d,b,c){t(a,d,c,function(a){c.isFocusVisible!==a&&(c.isFocusVisible=a,p(d,b,c,a))})},onUnmount:function(a,d,b){b.isFocused&&m(a,d,b)},onOwnershipChange:function(a,
d,b){b.isFocused&&m(a,d,b)}}),w=g.unstable_createEvent({displayName:"FocusWithin",targetEventTypes:u,rootEventTypes:r,getInitialState:function(){return{focusTarget:null,isFocused:!1,isFocusVisible:!1,pointerType:""}},onEvent:function(a,d,b,c){var e=a.type,f=a.nativeEvent.relatedTarget;if(b.disabled)c.isFocused&&(l(d,b,c,!1),c.isFocused=!1,c.focusTarget=null);else switch(e){case "focus":c.focusTarget=a.responderTarget;c.isFocused||(c.isFocused=!0,c.isFocusVisible=h,l(d,b,c,!0));!c.isFocusVisible&&
h&&(c.isFocusVisible=h,q(d,b,c,!0));break;case "blur":c.isFocused&&!d.isTargetWithinEventResponderScope(f)&&(l(d,b,c,!1),c.isFocused=!1)}},onRootEvent:function(a,d,b,c){t(a,d,c,function(a){c.isFocusVisible!==a&&(c.isFocusVisible=a,q(d,b,c,a))})},onUnmount:function(a,d,b){b.isFocused&&l(a,d,b,!1)},onOwnershipChange:function(a,d,b){b.isFocused&&l(a,d,b,!1)}});return{Focus:v,useFocus:function(a){g.unstable_useEvent(v,a)},FocusWithin:w,useFocusWithin:function(a){g.unstable_useEvent(w,a)}}});
