/** @license React vundefined
 * react-events-press.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';(function(q,n){"object"===typeof exports&&"undefined"!==typeof module?module.exports=n(require("react")):"function"===typeof define&&define.amd?define(["react"],n):q.ReactEventsPress=n(q.React)})(this,function(q){function n(b,d,c,a,e,g){var k=c.pressTarget,f=c.pointerType,h=c.touchEvent;c=null!=b&&!0===b.nativeEvent.defaultPrevented||"press"===a&&c.shouldPreventClick;var n=d.getTimeStamp(),p="primary",l=null,r=null,t=null,m=null,q=null,v=null,u=!1,w=!1,x=!1,y=!1;if(b){b=b.nativeEvent;
u=b.altKey;w=b.ctrlKey;x=b.metaKey;y=b.shiftKey;if(h=h||b)l=h.clientX,r=h.clientY,t=h.pageX,m=h.pageY,q=h.screenX,v=h.screenY;1===b.button&&(p="auxillary")}d.dispatchEvent({button:p,defaultPrevented:c,target:k,type:a,pointerType:f,timeStamp:n,clientX:l,clientY:r,pageX:t,pageY:m,screenX:q,screenY:v,x:l,y:r,altKey:u,ctrlKey:w,metaKey:x,shiftKey:y},e,g)}function z(b,d,c,a){var e=a.isActivePressed;n(b,d,a,"presschange",function(){c.onPressChange(e)},0)}function A(b,d,c,a){var e=a.isLongPressed;n(b,d,
a,"longpresschange",function(){c.onLongPressChange(e)},0)}function B(b,d,c,a){var e=b.nativeEvent,g=a.touchEvent||e;e=g.clientX;g=g.clientY;var k=a.isActivePressed;a.isActivePressed=!0;void 0!==e&&void 0!==g&&(a.activationPosition={x:e,y:g});c.onPressStart&&n(b,d,a,"pressstart",c.onPressStart,0);!k&&c.onPressChange&&z(b,d,c,a)}function C(b,d,c,a){var e=a.isLongPressed;a.isActivePressed=!1;a.isLongPressed=!1;c.onPressEnd&&n(b,d,a,"pressend",c.onPressEnd,0);c.onPressChange&&z(b,d,c,a);e&&c.onLongPressChange&&
A(b,d,c,a)}function D(b,d,c,a){a.isPressed=!0;null!==a.pressEndTimeout&&(d.clearTimeout(a.pressEndTimeout),a.pressEndTimeout=null);var e=function(){a.isActivePressStart=!0;B(b,d,c,a);if((c.onLongPress||c.onLongPressChange)&&!a.isLongPressed){var e=u(c.delayLongPress,10,500);a.longPressTimeout=d.setTimeout(function(){a.isLongPressed=!0;a.longPressTimeout=null;c.onLongPress&&n(b,d,a,"longpress",c.onLongPress,0);c.onLongPressChange&&A(b,d,c,a)},e)}};if(!a.isActivePressStart){var g=u(c.delayPressStart,
0,0);0<g?a.pressStartTimeout=d.setTimeout(function(){a.pressStartTimeout=null;e()},g):e()}}function v(b,d,c,a){var e=a.isActivePressStart,g=!1;a.isActivePressStart=!1;a.isPressed=!1;null!==a.longPressTimeout&&(d.clearTimeout(a.longPressTimeout),a.longPressTimeout=null);e||null===a.pressStartTimeout||(d.clearTimeout(a.pressStartTimeout),a.pressStartTimeout=null,a.isPressWithinResponderRegion&&null!=b&&(B(b,d,c,a),g=!0));a.isActivePressed&&(e=u(c.delayPressEnd,g?10:0,0),0<e?a.pressEndTimeout=d.setTimeout(function(){a.pressEndTimeout=
null;C(b,d,c,a)},e):C(b,d,c,a));a.responderRegionOnDeactivation=null}function w(b,d,c,a){a.touchEvent=null;null!==a.pressStartTimeout&&(d.clearTimeout(a.pressStartTimeout),a.pressStartTimeout=null);a.isPressed&&(a.ignoreEmulatedMouseEvents=!1,v(b,d,c,a));t(d,a)}function x(b){var d=b.key,c=b.target;b=c.tagName;c=c.isContentEditable;return("Enter"===d||" "===d||"Spacebar"===d)&&"INPUT"!==b&&"TEXTAREA"!==b&&!0!==c}function u(b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,c=null==b?
null:b;return Math.max(1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,null!=c?c:d)}function E(b,d,c){b=b.objectAssign({},J,c.pressRetentionOffset);var a=d.getBoundingClientRect();d=a.left;c=a.right;var e=a.bottom;a=a.top;b&&(null!=b.bottom&&(e+=b.bottom),null!=b.left&&(d-=b.left),null!=b.right&&(c+=b.right),null!=b.top&&(a-=b.top));return{bottom:e,top:a,left:d,right:c}}function t(b,d){d.addedRootEvents&&(d.addedRootEvents=!1,b.removeRootEventTypes(y))}function F(b,d){b=b.changedTouches;
for(var c=0;c<b.length;c++){var a=b[c];if(a.identifier===d)return a}return null}function G(b,d,c,a){null==a.responderRegionOnDeactivation&&(a.responderRegionOnDeactivation=E(d,a.pressTarget,c));var e=a.responderRegionOnActivation,g=a.responderRegionOnDeactivation,k=c=d=void 0,f=void 0;null!=e&&(d=e.left,c=e.top,k=e.right,f=e.bottom,null!=g&&(d=Math.min(d,g.left),c=Math.min(c,g.top),k=Math.max(k,g.right),f=Math.max(f,g.bottom)));e=b.clientX;b=b.clientY;a.isPressWithinResponderRegion=null!=d&&null!=
k&&null!=c&&null!=f&&null!==e&&null!==b&&e>=d&&e<=k&&b>=c&&b<=f}function H(b,d,c){b=b.stopPropagation;void 0!==b&&d.isRespondingToHook()||!0===b&&c.stopPropagation()}var m=q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;m.hasOwnProperty("ReactCurrentDispatcher")||(m.ReactCurrentDispatcher={current:null});m.hasOwnProperty("ReactCurrentBatchConfig")||(m.ReactCurrentBatchConfig={suspense:null});var K="undefined"!==typeof window&&null!=window.navigator?/^Mac/.test(window.navigator.platform):!1,J=
{bottom:20,top:20,left:20,right:20};m=["keydown_active","contextmenu_active","pointerdown_active","click_active"];var y="click keyup pointerup pointermove scroll pointercancel mouseup_active touchend".split(" ");"undefined"!==typeof window&&void 0===window.PointerEvent&&(m.push("touchstart","mousedown"),y.push("mousemove","touchmove","touchcancel","dragstart"));var I=q.unstable_createEvent({displayName:"Press",targetEventTypes:m,getInitialState:function(){return{activationPosition:null,addedRootEvents:!1,
isActivePressed:!1,isActivePressStart:!1,isLongPressed:!1,isPressed:!1,isPressWithinResponderRegion:!0,longPressTimeout:null,pointerType:"",pressEndTimeout:null,pressStartTimeout:null,pressTarget:null,responderRegionOnActivation:null,responderRegionOnDeactivation:null,ignoreEmulatedMouseEvents:!1,activePointerId:null,shouldPreventClick:!1,touchEvent:null}},onEvent:function(b,d,c,a){var e=b.pointerId,g=b.pointerType,k=b.type;if(c.disabled)t(d,a),v(b,d,c,a),a.ignoreEmulatedMouseEvents=!1;else{var f=
b.nativeEvent,h=a.isPressed;H(c,d,f);switch(k){case "pointerdown":case "keydown":case "mousedown":case "touchstart":if(h)x(f)&&" "===f.key&&f.preventDefault();else{var m="touchstart"===k,p="pointerdown"===k,l="keyboard"===g;h="mouse"===g;if(p||m)a.ignoreEmulatedMouseEvents=!0;else if("mousedown"===k&&a.ignoreEmulatedMouseEvents)break;else if(l&&!x(f))break;a.pointerType=g;g=a.pressTarget=b.responderTarget;if(p)a.activePointerId=e;else if(m){e=f.targetTouches;e=0<e.length?e[0]:null;if(null===e)break;
a.touchEvent=e;a.activePointerId=e.identifier}1<f.button||K&&h&&f.ctrlKey||(null!==g&&9!==g.nodeType&&(a.responderRegionOnActivation=E(d,g,c)),a.responderRegionOnDeactivation=null,a.isPressWithinResponderRegion=!0,D(b,d,c,a),a.addedRootEvents||(a.addedRootEvents=!0,d.addRootEventTypes(y)))}break;case "contextmenu":e=c.preventContextMenu;void 0!==e&&d.isRespondingToHook()||!0===e&&f.preventDefault();if(h){h=c.preventDefault;if(!(void 0!==h&&d.isRespondingToHook()||!1===h||f.defaultPrevented)){f.preventDefault();
break}w(b,d,c,a)}c.onContextMenu&&n(b,d,a,"contextmenu",c.onContextMenu,0);t(d,a);break;case "click":a.shouldPreventClick&&f.preventDefault()}}},onRootEvent:function(b,d,c,a){var e=b.pointerId,g=b.pointerType,k=b.target,f=b.type,h=b.nativeEvent,m=a.isPressed,p=a.activePointerId,l=a.pointerType;H(c,d,h);switch(f){case "pointermove":case "mousemove":case "touchmove":var r=void 0;if(l!==g)break;if("pointermove"===f&&p!==e)break;else if("touchmove"===f){r=F(h,p);if(null===r)break;a.touchEvent=r}l=a.pressTarget;
null===l||null===l||9===l.nodeType||"mouse"===g&&d.isTargetWithinNode(k,l)||G(r||h,d,c,a);a.isPressWithinResponderRegion?m?(c.onPressMove&&n(b,d,a,"pressmove",c.onPressMove,1),null!=a.activationPosition&&null!=a.longPressTimeout&&10<Math.hypot(a.activationPosition.x-h.clientX,a.activationPosition.y-h.clientY)&&null!=a.longPressTimeout&&d.clearTimeout(a.longPressTimeout)):D(b,d,c,a):v(b,d,c,a);break;case "pointerup":case "keyup":case "mouseup":case "touchend":if(m){if(m=h.button,r=!1,l=void 0,"pointerup"!==
f||p===e){if("touchend"===f){l=F(h,p);if(null===l)break;k=a.touchEvent=l;k=d.getActiveDocument().elementFromPoint(k.clientX,k.clientY)}else if("keyup"===f){if(!x(h))break;r=!0;t(d,a)}else 1===m&&t(d,a);a.shouldPreventClick=!1;if(d.isTargetWithinEventComponent(k)&&d.isTargetWithinHostComponent(k,"a",!0)){e=h.altKey;f=h.ctrlKey;p=h.metaKey;var q=h.shiftKey,u=c.preventDefault;void 0!==u&&d.isRespondingToHook()||!1===u||q||p||f||e||(a.shouldPreventClick=!0)}e=a.isLongPressed;f=a.pressTarget;v(b,d,c,a);
null!==f&&c.onPress&&(r||null===f||null===f||9===f.nodeType||"mouse"===g&&d.isTargetWithinNode(k,f)||G(l||h,d,c,a),a.isPressWithinResponderRegion&&1!==m&&(e&&c.onLongPressShouldCancelPress&&c.onLongPressShouldCancelPress()||n(b,d,a,"press",c.onPress,0)));a.touchEvent=null}}else"mouseup"===f&&(a.ignoreEmulatedMouseEvents=!1);break;case "click":"keyboard"!==l&&t(d,a);break;case "scroll":if("mouse"===l)break;g=a.pressTarget;h=h.target;k=d.getActiveDocument();null===g||h!==k&&!d.isTargetWithinNode(g,
h)||w(b,d,c,a);break;case "pointercancel":case "touchcancel":case "dragstart":w(b,d,c,a)}},onUnmount:function(b,d,c){c.isPressed&&(t(b,c),v(null,b,d,c))},onOwnershipChange:function(b,d,c){c.isPressed&&(t(b,c),v(null,b,d,c))}});return{Press:I,usePress:function(b){q.unstable_useEvent(I,b)}}});
